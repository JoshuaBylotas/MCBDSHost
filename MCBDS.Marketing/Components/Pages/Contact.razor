@page "/contact"

<PageTitle>Contact & Support - MCBDSHost</PageTitle>

<div class="container py-5">
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold">Contact & Support</h1>
        <p class="lead text-muted">Get help or send us your feedback</p>
    </div>

    <div class="row g-4">
        <!-- Contact Options -->
        <div class="col-lg-4">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body">
                    <div class="feature-icon bg-primary mb-3">
                        <i class="bi bi-envelope"></i>
                    </div>
                    <h3 class="h4 mb-3">Email Support</h3>
                    <p class="text-muted mb-3">
                        Send us an email for technical support, bug reports, or general inquiries.
                    </p>
                    <a href="mailto:support@mc-bds.com" class="btn btn-primary">
                        <i class="bi bi-envelope me-2"></i>support@mc-bds.com
                    </a>
                </div>
            </div>
        </div>

        <div class="col-lg-4">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body">
                    <div class="feature-icon bg-success mb-3">
                        <i class="bi bi-chat-dots"></i>
                    </div>
                    <h3 class="h4 mb-3">Send Feedback</h3>
                    <p class="text-muted mb-3">
                        Share your thoughts, suggestions, or feature requests. All feedback goes to support@mc-bds.com
                    </p>
                    <button onclick="showFeedbackForm()" class="btn btn-success">
                        <i class="bi bi-pencil me-2"></i>Send Feedback
                    </button>
                </div>
            </div>
        </div>

        <div class="col-lg-4">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body">
                    <div class="feature-icon bg-info mb-3">
                        <i class="bi bi-question-circle"></i>
                    </div>
                    <h3 class="h4 mb-3">Documentation</h3>
                    <p class="text-muted mb-3">
                        Check our guides and documentation for setup instructions and troubleshooting.
                    </p>
                    <a href="/get-started" class="btn btn-info">
                        <i class="bi bi-book me-2"></i>View Docs
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Feedback Form -->
    <section class="mt-5" id="feedback-form">
        <div class="card border-primary shadow-sm">
            <div class="card-header bg-primary text-white">
                <h2 class="h4 mb-0"><i class="bi bi-chat-dots me-2"></i>Send Feedback or Request Support</h2>
            </div>
            <div class="card-body">
                <div class="alert alert-info">
                    <i class="bi bi-info-circle me-2"></i>
                    <strong>Note:</strong> This form will open your default email client with a pre-filled message to <strong>support@mc-bds.com</strong>. 
                    You can also email us directly at <a href="mailto:support@mc-bds.com" class="alert-link">support@mc-bds.com</a>
                </div>

                <form id="contactForm">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="name" class="form-label fw-bold">Name *</label>
                            <input type="text" class="form-control" id="name" required>
                        </div>
                        <div class="col-md-6">
                            <label for="email" class="form-label fw-bold">Email *</label>
                            <input type="email" class="form-control" id="email" required>
                        </div>
                        <div class="col-12">
                            <label for="subject" class="form-label fw-bold">Subject *</label>
                            <select class="form-select" id="subject" required>
                                <option value="">Choose...</option>
                                <option value="Bug Report">Bug Report</option>
                                <option value="Feature Request">Feature Request</option>
                                <option value="Technical Support">Technical Support</option>
                                <option value="General Feedback">General Feedback</option>
                                <option value="Installation Help">Installation Help</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="col-12">
                            <label for="message" class="form-label fw-bold">Message *</label>
                            <textarea class="form-control" id="message" rows="6" required 
                                      placeholder="Please provide as much detail as possible..."></textarea>
                        </div>
                        <div class="col-12">
                            <label for="systemInfo" class="form-label fw-bold">System Information (Optional)</label>
                            <textarea class="form-control" id="systemInfo" rows="3" 
                                      placeholder="OS, Docker version, MCBDSHost version, etc."></textarea>
                            <small class="text-muted">Including system information helps us assist you better.</small>
                        </div>
                        <div class="col-12">
                            <button type="submit" class="btn btn-primary btn-lg">
                                <i class="bi bi-send me-2"></i>Send to support@mc-bds.com
                            </button>
                            <small class="text-muted ms-3">
                                <i class="bi bi-lock me-1"></i>Your information is only used to respond to your inquiry
                            </small>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="mt-5">
        <h2 class="h3 mb-4"><i class="bi bi-question-circle text-primary me-2"></i>Frequently Asked Questions</h2>
        <div class="accordion" id="faqAccordion">
            <div class="accordion-item">
                <h3 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                        How do I install MCBDSHost?
                    </button>
                </h3>
                <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        Check our <a href="/get-started">Get Started guide</a> for detailed installation instructions for Windows, Linux, and home servers.
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <h3 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                        What are the system requirements?
                    </button>
                </h3>
                <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        Minimum: 4GB RAM, 2 CPU cores, 10GB disk space, Docker. Recommended: 8GB RAM, 4 CPU cores, 20GB disk space, SSD.
                        See <a href="/get-started#requirements">full requirements</a>.
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <h3 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                        Where do I download Minecraft Bedrock Server?
                    </button>
                </h3>
                <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        Download from the official Minecraft website: 
                        <a href="https://www.minecraft.net/en-us/download/server/bedrock" target="_blank">
                            https://www.minecraft.net/en-us/download/server/bedrock
                        </a>
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <h3 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                        How do I report a bug?
                    </button>
                </h3>
                <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        Use the feedback form above with "Bug Report" as the subject, or email us directly at 
                        <a href="mailto:support@mc-bds.com">support@mc-bds.com</a>. Include system information and steps to reproduce.
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <h3 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                        Is MCBDSHost free to use?
                    </button>
                </h3>
                <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        Yes! MCBDSHost is open source and free to use under the MIT License. However, you need to separately obtain
                        Minecraft Bedrock Server which has its own EULA.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Response Time Notice -->
    <div class="alert alert-info mt-5">
        <div class="row align-items-center">
            <div class="col-md-8">
                <h4 class="alert-heading mb-2"><i class="bi bi-clock me-2"></i>Response Time</h4>
                <p class="mb-0">
                    We typically respond within 24-48 hours during business days. For urgent issues, 
                    please include "URGENT" in your subject line.
                </p>
            </div>
            <div class="col-md-4 text-center">
                <i class="bi bi-headset display-3 text-primary"></i>
            </div>
        </div>
    </div>
</div>

<script>
    // Function to show feedback form with pre-filled subject
    function showFeedbackForm() {
        // Scroll to form
        const formElement = document.getElementById('feedback-form');
        formElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
        
        // Wait for scroll to complete, then set subject
        setTimeout(function() {
            const subjectSelect = document.getElementById('subject');
            subjectSelect.value = 'General Feedback';
            
            // Highlight the subject field briefly
            subjectSelect.classList.add('border-success');
            subjectSelect.focus();
            
            setTimeout(function() {
                subjectSelect.classList.remove('border-success');
            }, 1500);
            
            // Track in Google Analytics
            if (typeof gtag !== 'undefined') {
                gtag('event', 'feedback_button_click', {
                    'event_category': 'engagement',
                    'event_label': 'card_button'
                });
            }
        }, 500);
    }
    
    // Form submission handler
    document.getElementById('contactForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const name = document.getElementById('name').value;
        const email = document.getElementById('email').value;
        const subject = document.getElementById('subject').value;
        const message = document.getElementById('message').value;
        const systemInfo = document.getElementById('systemInfo').value;
        
        let emailBody = `Name: ${name}\nEmail: ${email}\n\n`;
        emailBody += `Message:\n${message}\n\n`;
        
        if (systemInfo) {
            emailBody += `System Information:\n${systemInfo}\n\n`;
        }
        
        emailBody += `---\nSent from MCBDSHost Contact Form`;
        
        const mailtoLink = `mailto:support@mc-bds.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(emailBody)}`;
        
        window.location.href = mailtoLink;
        
        // Track event in Google Analytics
        if (typeof gtag !== 'undefined') {
            gtag('event', 'contact_form_submit', {
                'event_category': 'engagement',
                'event_label': subject
            });
        }
        
        // Show confirmation
        alert('Your email client will open with a pre-filled message to support@mc-bds.com. Please review and send it.');
    });
</script>
